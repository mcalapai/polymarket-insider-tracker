# PostgreSQL Configuration
POSTGRES_HOST=localhost
# If you already run another Postgres on 5432, set this to 5433 (docker-compose.yml honors it).
POSTGRES_PORT=5432
POSTGRES_DB=polymarket_tracker
POSTGRES_USER=tracker
POSTGRES_PASSWORD=dev_password

# Constructed database URL (for application use)
# Note: the app uses SQLAlchemy async engine (asyncpg)
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}

# Optional: Development tool ports
ADMINER_PORT=8080
REDIS_INSIGHT_PORT=5540

# Polygon RPC Configuration
POLYGON_RPC_URL=https://polygon-rpc.com
POLYGON_FALLBACK_RPC_URL=https://polygon-bor.publicnode.com

# Polymarket API Configuration
POLYMARKET_TRADE_WS_URL=wss://ws-live-data.polymarket.com
POLYMARKET_CLOB_MARKET_WS_URL=wss://ws-subscriptions-clob.polymarket.com/ws/market
POLYMARKET_CLOB_HOST=https://clob.polymarket.com
POLYMARKET_DATA_API_HOST=https://data-api.polymarket.com
POLYMARKET_CLOB_CHAIN_ID=137

# Order lifecycle ingestion (requires Level-2 auth)
ORDERS_ENABLED=false
# Required when ORDERS_ENABLED=true
POLYMARKET_CLOB_PRIVATE_KEY=
POLYMARKET_CLOB_API_KEY=
POLYMARKET_CLOB_API_SECRET=
POLYMARKET_CLOB_API_PASSPHRASE=

# Detector thresholds
FRESH_WALLET_MIN_TRADE_NOTIONAL_USDC=1000
FRESH_WALLET_MAX_NONCE=5
FRESH_WALLET_MAX_AGE_HOURS=48

SIZE_ANOMALY_VOLUME_THRESHOLD=0.02
SIZE_ANOMALY_BOOK_THRESHOLD=0.05

# Historical liquidity collection + quality gates
LIQUIDITY_METADATA_SYNC_INTERVAL_SECONDS=60
LIQUIDITY_SNAPSHOT_CADENCE_SECONDS=300
LIQUIDITY_ACTIVE_SWEEP_INTERVAL_SECONDS=300
LIQUIDITY_ACTIVE_SWEEP_BATCH_SIZE=250
LIQUIDITY_REQUEST_TIMEOUT_SECONDS=10
LIQUIDITY_REQUEST_MAX_RETRIES=2
LIQUIDITY_COLLECTION_MAX_CONCURRENCY=10
LIQUIDITY_COVERAGE_JOB_INTERVAL_SECONDS=3600
LIQUIDITY_COVERAGE_WINDOW_HOURS=24
LIQUIDITY_MARKET_MIN_COVERAGE_RATIO=0.80
LIQUIDITY_RUN_MIN_COVERAGE_RATIO=0.90

# Historical scan/backtest (semantic retrieval)
SCAN_EMBEDDING_MODEL=
SCAN_EMBEDDING_DIM=
# Market indexing (first scan may index the full market universe and can take time).
# Set SCAN_INDEX_FORCE=true to reindex from scratch; otherwise it is skipped when recent.
SCAN_INDEX_FORCE=false
SCAN_INDEX_MAX_AGE_HOURS=24
SCAN_INDEX_ACTIVE_ONLY=false
SCAN_INDEX_CHUNK_SIZE=1024
SCAN_INDEX_EMBED_BATCH_SIZE=64
SCAN_INDEX_COMMIT_EVERY_CHUNKS=10
SCAN_HISTORICAL_LIQUIDITY_POLICY=skip_size_signal
SCAN_PRE_MOVE_WEIGHT=0.10

# Alert Webhooks (optional)
DISCORD_WEBHOOK_URL=
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=
